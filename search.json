[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "MESA-UKB-LVAtlas",
    "section": "",
    "text": "About\nThis online notebook details atlas-based shape score analysis conducted for the comparison between two left ventricular (LV) atlases derived from MESA and UK Biobank cohorts. It serves as an online source code material for the following paper:\n\n\n\n\n\n\nAvan Suinesiaputra, Kathleen Gilbert, Charlène Mauger, David A Bluemke, Colin Wu, Nay Aung, Stefan Neubauer, Stefan Piechnik, Steffen E Petersen, Joao A Lima, Bharath Ambale-Venkatesh, and Alistair Young, “Relationship between Left Ventricular Shape and Cardiovascular Risk Factors: Comparison between the Multi-Ethnic Study of Atherosclerosis and UK Biobank”, in review.\n\n\n\n\n\nData availability\nThe MESA CMR images and their clinical and demographic data used in this study were available on request to the MESA Coordinating Centre at https://www.mesa-nhlbi.org. The UK Biobank CMR images and their clinical and demographic data used in this study were available on request to the UK Biobank at https://www.ukbiobank.ac.uk. The principal components of both MESA and UK Biobank derived in this study to build the PLSR model are available from the Cardiac Atlas Project website https://www.cardiacatlas.org.\n\n\nFunding\nThis research was funded by the Health Research Council of New Zealand (17/608 and 17/234), and supported by the Innovate UK (104691) London Medical Imaging & Artificial Intelligence Centre for Value Based Healthcare with the core funding from the Wellcome/EPSRC Centre for Medical Engineering [WT203148/Z/16/Z] and Wellcome Trust Innovator award number 222678/Z/21/Z.",
    "crumbs": [
      "About"
    ]
  },
  {
    "objectID": "training.html",
    "href": "training.html",
    "title": "1  PLSR Training",
    "section": "",
    "text": "1.1 k-Folds Cross Validation\nWe used five-fold cross validation to determine the optimal number of PLSR components. We did this for each cohort and for each risk factor. The general function to perform the k-fold cross validation for PLSR training is given below:",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>PLSR Training</span>"
    ]
  },
  {
    "objectID": "training.html#k-folds-cross-validation",
    "href": "training.html#k-folds-cross-validation",
    "title": "1  PLSR Training",
    "section": "",
    "text": "train_pls &lt;- function(form, dt, n_folds=5, n_comps=30, \n                      prep=c(\"center\"), probMethod=\"softmax\")\n{\n  # create frequency table to calculate the weights\n  response &lt;- model.frame(form, data=dt)[[form[[2]]]]\n  \n  # create cross-validation folds\n  cvIndex &lt;- createFolds(factor(response), n_folds, returnTrain = T) \n  \n  # create caret's training controller\n  ctrl &lt;- trainControl(method = \"cv\",\n                       index = cvIndex,\n                       classProbs = TRUE,\n                       verboseIter=TRUE,\n                       summaryFunction = twoClassSummary,\n                       savePredictions = TRUE,\n                       allowParallel = TRUE) \n  \n  # train using PLS, metric is ROC.\n  # Note that the number of PLS modes is given in the tuneLength argument.\n  model &lt;- train(form=form,\n                 data=dt,\n                 method=\"pls\",\n                 probMethod=probMethod,\n                 metric=\"ROC\",\n                 tuneLength = n_comps,\n                 preProc = prep,\n                 trControl = ctrl)\n  \n  return(model)\n}",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>PLSR Training</span>"
    ]
  },
  {
    "objectID": "training.html#training-results",
    "href": "training.html#training-results",
    "title": "1  PLSR Training",
    "section": "1.2 Training results",
    "text": "1.2 Training results\n\nMESA atlas\n\nHypertension\nDiabetes\nObesity\nHypercholesterolemia\nSmoking\n\nUKBB atlas\n\nHypertension\nDiabetes\nObesity\nHypercholsterolemia\nSmoking",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>PLSR Training</span>"
    ]
  }
]